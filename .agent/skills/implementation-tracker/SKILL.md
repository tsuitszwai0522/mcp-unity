---
name: implementation-tracker
description: 當實作具有多階段任務清單的功能時，用於追蹤進度並記錄跨階段備註。
---

# Implementation Tracker (實作進度追蹤)

此 Skill 用於追蹤多階段功能實作的進度，並提供結構化的方式讓 Agent 記錄重要資訊給下一階段的 Agent。

## 核心規則 (Core Rules)

1.  **語言要求**：所有追蹤記錄必須使用 **zh-TW**。
2.  **關聯設計文件**：Tracker 文件必須與 `doc/requirement/feature_{name}.md` 配對存在。
3.  **即時更新**：每完成一個 Phase 或遇到重要決策時，**立即**更新 Tracker，不可延遲。
4.  **備註必填**：完成 Phase 時，「注意事項給下一階段」為**必填欄位**，即使內容為「無特別注意事項」。

## 檔案管理 (File Management)

| 項目 | 路徑 |
|------|------|
| 設計文件 | `doc/requirement/feature_{name}.md` |
| 追蹤文件 | `doc/requirement/feature_{name}_tracker.md` |

命名規則：Tracker 文件名 = 設計文件名 + `_tracker` 後綴。

## 執行流程 (Workflow)

### 觸發條件一：開始實作新 Phase

當準備開始實作某個 Phase 時：

1.  **檢查 Tracker 是否存在**：
    * 若不存在，根據設計文件的任務清單**初始化 Tracker**。
    * 若已存在，**讀取 Tracker**，特別關注前一階段的「注意事項給下一階段」。

2.  **更新當前 Phase 狀態**：
    * 將該 Phase 標記為 `🔄 進行中`。
    * 記錄開始日期與執行者（Agent 類型或 User）。

3.  **摘要前階段備註**：
    * 在開始工作前，向使用者摘要前一階段留下的關鍵備註（若有）。

### 觸發條件二：完成當前 Phase

當某個 Phase 實作完成時：

1.  **更新 Phase 狀態**：將該 Phase 標記為 `✅ 已完成`。

2.  **填寫必要欄位**：
    * **完成事項**：列出實際完成的任務（對照設計文件勾選）。
    * **關鍵決策**：記錄實作過程中的重要技術決策。
    * **修改文件清單**：列出新增/修改的檔案路徑。
    * **注意事項給下一階段** ⚠️ **必填**：
        * 遇到的坑或 Workaround
        * 與原設計的偏離（若有）
        * 建議下階段優先處理的事項
        * 預留的擴展點或 TODO
    * **遇到的問題**：記錄 Q&A 形式的問題與解決方案。

3.  **同步設計文件**：
    * 將設計文件中對應的任務勾選為 `[x]`。
    * 若實作有重大偏離，提醒使用者是否需更新設計文件。

### 觸發條件三：遇到阻礙或設計變更

1.  **阻礙 (Blocker)**：
    * 在 Tracker 中記錄阻礙原因。
    * 標記該 Phase 為 `⏸️ 暫停` 並說明原因。

2.  **設計偏離**：
    * 在「關鍵決策」中記錄偏離內容與理由。
    * 標記 `🔺 需更新設計文件`，提醒使用者後續處理。

### 觸發條件四：根據 Code Review 進行修改

當執行 `code-reviewer` 生成的 Refactor Prompt 後：

1.  **定位對應 Phase**：找到該修改所屬的 Phase。

2.  **更新關鍵決策**：
    * 在「關鍵決策」區塊新增條目，使用 `[Review Fix]` 標籤標示。

3.  **關聯審查報告**：
    * 在該 Phase 區塊底部新增「關聯審查」欄位。

## 狀態圖示說明

| 圖示 | 狀態 | 說明 |
|------|------|------|
| ⏳ | 待開始 | 尚未開始實作 |
| 🔄 | 進行中 | 正在實作中 |
| ✅ | 已完成 | 實作完成 |
| ⏸️ | 暫停 | 遇到阻礙，暫時停止 |
| 🔺 | 需關注 | 有設計偏離，需更新文件 |

## 與其他 Skills 的協作

| Skill | 協作方式 |
|-------|----------|
| `feature-design-protocol` | Tracker 依據設計文件的任務清單初始化 |
| `code-review-generator` | Review Request 可引用 Tracker 中的關鍵決策與修改清單 |
| `code-reviewer` | 執行 Refactor Prompt 後，需更新 Tracker（觸發條件四） |
| `bug-fix-protocol` | 若實作過程中發現 Bug，記錄於 Tracker 並觸發 Bug Fix 流程 |

## 觸發時機 (When to use)

### Phase 實作相關
* 使用者說：「開始實作 Phase 2」
* 使用者說：「繼續上次的進度」
* 使用者說：「這個 Phase 做完了，記錄一下」
* 使用者說：「更新進度追蹤」

### Code Review 修改相關
* 使用者說：「根據審查意見修改」
* 使用者說：「Review 修改完成，更新 Tracker」

## 禁止事項 (Don'ts)

1. ❌ 跳過「注意事項給下一階段」欄位
2. ❌ 在沒有關聯設計文件的情況下建立 Tracker
3. ❌ 完成 Phase 後不更新設計文件中的任務勾選狀態
4. ❌ 忽略前一階段的備註直接開始實作
